<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article# " lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="home page for Motion Clouds">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Motion Clouds</title>
<link href="assets/css/bootstrap.min.css" rel="stylesheet" type="text/css">
<link href="assets/css/baguetteBox.min.css" rel="stylesheet" type="text/css">
<link href="assets/css/rst.css" rel="stylesheet" type="text/css">
<link href="assets/css/code.css" rel="stylesheet" type="text/css">
<link href="assets/css/theme.css" rel="stylesheet" type="text/css">
<link href="assets/css/bootblog.css" rel="stylesheet" type="text/css">
<link href="assets/css/ipython.min.css" rel="stylesheet" type="text/css">
<link href="assets/css/nikola_ipython.css" rel="stylesheet" type="text/css">
<link href="https://fonts.googleapis.com/css?family=Playfair+Display:700,900" rel="stylesheet">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="canonical" href="https://motionclouds.invibe.net/index.html">
<link rel="icon" href="favicon.ico" sizes="16x16">
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"] ],
        displayMath: [ ['$$','$$'], ["\\[","\\]"] ]
    },
    displayAlign: 'center', // Change this to 'center' to center equations.
    "HTML-CSS": {
        styles: {'.MathJax_Display': {"margin": 0}}
    }
});
</script><!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]--><meta name="author" content="Laurent Perrinet">
<meta property="og:site_name" content="Motion Clouds">
<meta property="og:title" content="Motion Clouds">
<meta property="og:url" content="https://motionclouds.invibe.net/index.html">
<meta property="og:description" content="home page for Motion Clouds">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2014-01-15T11:20:10+01:00">
<meta property="article:tag" content="motion-clouds">
<meta property="article:tag" content="python">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Header and menu bar -->
<div class="container">
      <header class="blog-header py-3"><div class="row nbb-header align-items-center">
          <div class="col-md-3 col-xs-2 col-sm-2" style="width: auto;">
            <button class="navbar-toggler navbar-light bg-light nbb-navbar-toggler" type="button" data-toggle="collapse" data-target=".bs-nav-collapsible" aria-controls="bs-navbar" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse bs-nav-collapsible bootblog4-search-form-holder">
                
<!-- Custom search -->
<form method="get" id="search" action="//duckduckgo.com/" class="navbar-form pull-left">
<input type="hidden" name="sites" value="https://motionclouds.invibe.net/"><input type="hidden" name="k8" value="#444444"><input type="hidden" name="k9" value="#D51920"><input type="hidden" name="kt" value="h"><input type="text" name="q" maxlength="255" placeholder="Search…" class="span2" style="margin-top: 4px;"><input type="submit" value="DuckDuckGo Search" style="visibility: hidden;">
</form>
<!-- End of custom search -->

            </div>
        </div>
          <div class="col-md-6 col-xs-10 col-sm-10 bootblog4-brand" style="width: auto;">
            <a class="navbar-brand blog-header-logo text-dark" href="https://motionclouds.invibe.net/">

            <span id="blog-title">Motion Clouds</span>
        </a>
          </div>
            <div class="col-md-3 justify-content-end align-items-center bs-nav-collapsible collapse flex-collapse bootblog4-right-nav">
            <nav class="navbar navbar-light bg-white"><ul class="navbar-nav bootblog4-right-nav">
<li class="nav-item">
    <a href="index.md" id="sourcelink" class="nav-link">Source</a>
    </li>


                    
            </ul></nav>
</div>
    </div>
</header><nav class="navbar navbar-expand-md navbar-light bg-white static-top"><div class="collapse navbar-collapse bs-nav-collapsible" id="bs-navbar">
            <ul class="navbar-nav nav-fill d-flex w-100">
<li class="nav-item active">
<a href="#" class="nav-link">Home <span class="sr-only">(active)</span></a>
                </li>
<li class="nav-item">
<a href="archive.html" class="nav-link">How-to</a>
                </li>
<li class="nav-item">
<a href="https://laurentperrinet.github.io/sciblog/categories/motionclouds.html" class="nav-link">Examples</a>
                </li>
<li class="nav-item">
<a href="install.html" class="nav-link">Install</a>
                </li>
<li class="nav-item">
<a href="https://laurentperrinet.github.io" class="nav-link">About my research</a>
                </li>
<li class="nav-item">
<a href="https://twitter.com/laurentperrinet" class="nav-link">Twitter</a>
                </li>
<li class="nav-item">
<a href="https://github.com/NeuralEnsemble/MotionClouds" class="nav-link">Github</a>

                
            </li>
</ul>
</div>
<!-- /.navbar-collapse -->
</nav>
</div>

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        
        
<article class="post-text storypage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="#" class="u-url">Motion Clouds</a></h1>

        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <div>
<p><strong>MotionClouds</strong> are random dynamic stimuli optimized to study motion perception.</p>
<p>In particular, these stimuli can be made closer to naturalistic textures compared to usual stimuli such as gratings and random-dot kinetograms. These have controlled information content: We simplified the definition to parametrically define these "Motion Clouds" around the most prevalent feature axis (mean and bandwith): direction, scale (spatial frequency), orientation. These scripts implement a framework to generate these random texture movies.</p>
<p></p>
<center><img src="http://www.motionclouds.invibe.net/files/grating.gif" width="50%"></center>
<p>The description of this method was published in:</p>
<ul>
<li>Paula S. Leon, Ivo Vanzetta, Guillaume S. Masson, Laurent U. Perrinet. <em>Motion Clouds: Model-based stimulus synthesis of natural-like random textures for the study of motion perception.</em> <a href="http://jn.physiology.org/content/early/2012/03/10/jn.00737.2011"><strong>Journal of Neurophysiology</strong></a>, 107(11):3217--3226, 2012  <a href="https://laurentperrinet.github.io/publication/sanz-12">URL</a> - <a href="http://www.motionclouds.invibe.net/files/MotionClouds.pdf">preprint</a> - <a href="http://www.motionclouds.invibe.net/files/MotionClouds_Supplementary.pdf">Supplementary Information</a> - <a href="http://www.motionclouds.invibe.net/files/MotionClouds_VideoFigures.pdf">Supplementary Videos</a>
</li>
</ul>
<p>and recently in</p>
<ul>
<li>Jonathan Vacher, Andrew Isaac Meso, Laurent U Perrinet, Gabriel Peyré. <em>Biologically Inspired Dynamic Textures for Probing Motion Perception</em>. In <a href="https://laurentperrinet.github.io/publication/vacher-15-nips"><strong>Advances in Neural Information Processing Systems</strong></a> 28, pages 1909--1917. Curran Associates, Inc., 2015; <a href="http://arxiv.org/abs/1511.02705">arXiv version with supplementary Information</a>
</li>
</ul>
<p>While this method was used in the following paper:</p>
<ul>
<li>Claudio Simoncini, Laurent U. Perrinet, Anna Montagnini, Pascal Mamassian, Guillaume S. Masson. <em>More is not always better: dissociation between perception and action explained by adaptive gain control.</em> <a href="http://www.nature.com/neuro/journal/v15/n11/full/nn.3229.html"><strong>Nature Neuroscience</strong></a>, 2012 <a href="https://laurentperrinet.github.io/publication/simoncini-12">URL</a>
</li>
</ul>
<p>This work was supported by ANR project <a href="https://laurentperrinet.github.io/project/anr-speed/">"ANR Speed"</a> ANR-13-BSHS2-0006.</p>
<p><img src="http://www.agence-nationale-recherche.fr/images/logos/ANR07-396.gif" width="30%"></p>
<p>This work was supported by the European Union project Number FP7-269921, ``BrainScaleS'' (Brain-inspired multiscale computation in neuromorphic hybrid systems), an EU FET-Proactive FP7 funded research project. The project started on 1 January 2011. It is a collaboration of 18 research groups from 10 European countries.</p>
<p><img src="https://brainscales.kip.uni-heidelberg.de/images/thumb/e/e2/Public--BrainScalesLogo.svg/100px-Public--BrainScalesLogo.svg.png" width="10%"><img src="https://brainscales.kip.uni-heidelberg.de/images/thumb/8/88/Public--FET--FETTreeLogo.jpg/70px-Public--FET--FETTreeLogo.jpg" width="10%"><img src="https://brainscales.kip.uni-heidelberg.de/images/thumb/3/3b/Public--EU-FP7Logo.gif/90px-Public--EU-FP7Logo.gif" width="10%"><img src="https://brainscales.kip.uni-heidelberg.de/images/thumb/5/5b/Public--EU-Logo.gif/90px-Public--EU-Logo.gif" width="10%"></p>
<hr>
<h3>Code example - <a href="http://motionclouds.invibe.net/posts/testing_components.html">demo</a>
</h3>
<p>Motion Clouds are built using a collection of scripts that provides a simple way of generating complex stimuli suitable for neuroscience and psychophysics experiments. It is meant to be an open-source package that can be combined with other packages such as PsychoPy or NeuroTools.</p>
<p>All functions are implemented in one main script called <code>MotionClouds.py</code> that handles the Fourier cube, the envelope functions as well as the random phase generation and all Fourier related processing. Additionally, all the auxiliary visualization tools to plot the spectra and the movies are included. Specific scripts such as <code>test_color.py</code>, <code>test_speed.py</code>, <code>test_radial.py</code> and <code>test_orientation.py</code> explore the role of different parameters for each individual envelope (respectively color, speed, radial frequency, orientation). Our aim is to keep the code as simple as possible in order to be comprehensible and flexible. To sum up, when we build a custom  Motion Cloud there are 3 simple steps to follow:</p>
<ol>
<li>set the MC parameters and construct the Fourier envelope, then visualize it as iso-surfaces:</li>
</ol>
<pre class="code literal-block"><span></span><span class="kn">import</span> <span class="nn">MotionClouds</span> <span class="kn">as</span> <span class="nn">mc</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="c1"># define Fourier domain</span>
<span class="n">fx</span><span class="p">,</span> <span class="n">fy</span><span class="p">,</span> <span class="n">ft</span> <span class="o">=</span> <span class="n">mc</span><span class="o">.</span><span class="n">get_grids</span><span class="p">(</span><span class="n">mc</span><span class="o">.</span><span class="n">N_X</span><span class="p">,</span> <span class="n">mc</span><span class="o">.</span><span class="n">N_Y</span><span class="p">,</span> <span class="n">mc</span><span class="o">.</span><span class="n">N_frame</span><span class="p">)</span>
<span class="c1"># define an envelope</span>
<span class="n">envelope</span> <span class="o">=</span> <span class="n">mc</span><span class="o">.</span><span class="n">envelope_gabor</span><span class="p">(</span><span class="n">fx</span><span class="p">,</span> <span class="n">fy</span><span class="p">,</span> <span class="n">ft</span><span class="p">,</span>
    <span class="n">V_X</span><span class="o">=</span><span class="mf">1.</span><span class="p">,</span> <span class="n">V_Y</span><span class="o">=</span><span class="mf">0.</span><span class="p">,</span> <span class="n">B_V</span><span class="o">=.</span><span class="mi">1</span><span class="p">,</span>
    <span class="n">sf_0</span><span class="o">=.</span><span class="mi">15</span><span class="p">,</span> <span class="n">B_sf</span><span class="o">=.</span><span class="mi">1</span><span class="p">,</span>
    <span class="n">theta</span><span class="o">=</span><span class="mf">0.</span><span class="p">,</span> <span class="n">B_theta</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">/</span><span class="mi">8</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">1.</span><span class="p">)</span>
<span class="c1"># Visualize the Fourier Spectrum</span>
<span class="n">mc</span><span class="o">.</span><span class="n">visualize</span><span class="p">(</span><span class="n">envelope</span><span class="p">)</span>
</pre>


<ol>
<li>perform the IFFT and contrast normalization; visualize the stimulus as a 'cube' visualization of the image sequence,</li>
</ol>
<pre class="code literal-block"><span></span><span class="n">movie</span> <span class="o">=</span> <span class="n">mc</span><span class="o">.</span><span class="n">random_cloud</span><span class="p">(</span><span class="n">envelope</span><span class="p">)</span>
<span class="n">movie</span> <span class="o">=</span> <span class="n">mc</span><span class="o">.</span><span class="n">rectif</span><span class="p">(</span><span class="n">movie</span><span class="p">)</span>
<span class="c1"># Visualize the Stimulus</span>
<span class="n">mc</span><span class="o">.</span><span class="n">cube</span><span class="p">(</span><span class="n">movie</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="n">name</span> <span class="o">+</span> <span class="s1">'_cube'</span><span class="p">)</span>
</pre>


<ol>
<li>export the stimulus as a movie (.mpeg format available), as separate frames (.bmp and .png formats available) in a compressed zipped folder, or as a Matlab matrix (.mat format).</li>
</ol>
<pre class="code literal-block"><span></span><span class="n">mc</span><span class="o">.</span><span class="n">anim_save</span><span class="p">(</span><span class="n">movie</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">display</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">vext</span><span class="o">=</span><span class="s1">'.mpeg'</span><span class="p">)</span>
</pre>


<p>If some parameters are not given, they are set to default values corresponding to a ''standard'' Motion Cloud. Moreover, the user can easily explore a range of different Motion Clouds simply by setting  an array of values for a determined parameter. Here, for example, we generate 8 MCs with increasing spatial frequency <code>sf_0</code> while keeping the other parameters fixed to default values:</p>
<pre class="code literal-block"><span></span><span class="k">for</span> <span class="n">sf_0</span> <span class="ow">in</span> <span class="p">[</span><span class="mf">0.01</span><span class="p">,</span> <span class="mf">0.05</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.6</span><span class="p">]:</span>
    <span class="n">name_</span> <span class="o">=</span> <span class="s1">'figures/'</span> <span class="o">+</span> <span class="n">name</span> <span class="o">+</span> <span class="s1">'-sf_0-'</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">sf_0</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">'.'</span><span class="p">,</span> <span class="s1">'_'</span><span class="p">)</span>
    <span class="c1"># function performing plots for a given set of parameters</span>
    <span class="n">mc</span><span class="o">.</span><span class="n">figures_MC</span><span class="p">(</span><span class="n">fx</span><span class="p">,</span> <span class="n">fy</span><span class="p">,</span> <span class="n">ft</span><span class="p">,</span> <span class="n">name_</span><span class="p">,</span> <span class="n">sf_0</span><span class="o">=</span><span class="n">sf_0</span><span class="p">)</span>
</pre>


<hr>
</div>
    </div>
    

</article><!--End of body content--><footer id="footer">
            Contents © 2019 <a href="mailto:laurent.perrinet@univ-amu.fr">Laurent Perrinet</a> -
Powered by <a href="http://getnikola.com">Nikola</a> with <a href="https://themes.getnikola.com/v7/maupassant/">Maupassant</a> theme <br><a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/2.5/ar/">
<img alt="Creative Commons License BY-NC-SA" style="border-width:0; margin-bottom:12px;" src="http://i.creativecommons.org/l/by-nc-sa/2.5/ar/88x31.png"></a>
            
        </footer>
</div>
</div>


            <script src="assets/js/jquery.min.js"></script><script src="assets/js/popper.min.js"></script><script src="assets/js/bootstrap.min.js"></script><script src="assets/js/baguetteBox.min.js"></script><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script>
</body>
</html>
